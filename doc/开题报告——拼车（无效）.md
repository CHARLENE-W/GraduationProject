# 拼车

## 一、任务书

#### 1.1 题目内容



#### 1.2 任务要求



## 二、选题的背景和意义

#### 2.1 研究背景与意义

​		拼车是指路线相近或相同的多位乘客乘坐同一辆车，且车费根据各位乘客实际出行距离计算均摊。10月12日公安部发布最新统计数据，截至2021年9月，全国机动车保有量达3.90亿辆，其中汽车2.97亿辆；全国机动车驾驶人4.76亿人，其中汽车驾驶人4.39亿人。随着城市中流通车辆不断增加，城市交通压力不断增加，”出行难“已经成为人们生活中会遇到的一大问题。乘坐公共交通、拼车出行已经成为人们出行的重要选择。相比于定时定点的公共交通，拼车更为灵活方便，也因为能够均摊车费，相比于打车，乘客出行成本能够有效降低；另一方面，在人流通型较大的区域，如果拼车能够形成一定规模，能够有效降低交通压力，缓解道路拥堵情况；同时，拼车行为积极响应中国政府”低碳环保“的国家政策，顺应世界”绿色交通“的发展潮流，共同构建清洁美丽的人类命运共同体。

​		随着生活信息化程度不断加强，拼车也更容易实现，人们通过网络获取相关的乘车信息后，就能与拼车乘客交流、达成共识后就可按照约定的方式拼车上路。目前市场上已经有了相对成熟的拼车软件，但是其中乘客与司机的双向交流都需要经过软件平台这一中介进行，这为数据安全等问题埋下了一定的隐患。

​		区块链去中心化、开放性、独立性、安全性、匿名性等特点保证了该技术的”诚实“与“透明”。由于该技术数据存储与流动不依赖额外第三方，去除了中心管制，这为打破数据垄断提供了必要的技术基础。我们可以利用区块链技术建立可信任、去中心化的数据库，创造共享式经济。在拼车中应用区块链技术能够消除中介，允许乘客与司机的直接交流与交易，同时由于区块链平台数据的透明性，能够为双方提供更为可信的验证，降低了信任成本。在拼车服务中使用区块链有助于参与的所有利益相关方关系更加紧密，这将为安全高效的拼车服务铺平道路

#### 2.2国内外研究现状和发展趋势

​	当前，已经有了很多成熟的实现拼车的应用，例如Uber拼车、滴滴拼车、拼车网等，这些应用都已经在市场上被人们使用。但这些应用都依赖于第三方，容易形成垄断局面。且部分环节不透明，使得可信度降低，区块链技术的发展使得这一缺点有了改善的可能。

​	不少人已经开始探讨区块链对于汽车行业的可能性，但是区块链技术被寄予期望的背后，也面临诸多问题，如技术不成熟、商业应用场景少、应用成本高、性能较低等等,其实际应用仍旧较少。在乘车共享中应用区块链，其优势是显然的，但目前仍无较为完整的系统设计。区块链是提升拼车服务的主要驱动力。在乘车共享中实施区块链将改变整个行业的运作方式。

## 三、研究方案

#### 3.1 总体方案

​	基本系统架构如下：


![image](https://user-images.githubusercontent.com/75356066/148495379-001d5344-430a-4419-8041-baadfc3ea13a.png)

​	其中，地图数据采用基于geohash的树状区块链存储方式，司机与乘客均为区块链上普通节点，存有各自必要信息。在区块链的合约层设定匹配逻辑，使得司机与用户节点根据设定的行为逻辑完成相应行为。

#### 3.2 主要技术方案

1. 地图数据格式采用geohash表示。通过将二维经纬度转换为长度一定的字符串，模糊了具体位置，保护了隐私，同时又将庞大的数据量在一定的精准度下聚合，更加容易做缓存。并在实验室工作的基础上，利用树状区块链存储的方式提高查找存储效率。
2. 匹配逻辑主要采用基于位置近似的动态拼车算法。在用geohash表示数据的基础上，地图可以网状化；为每个网格维护一张车辆状态表，根据时间顺序记录到达该点的车辆（司机）信息。匹配逻辑如下：
   - 为了保证司机可以在乘客指定时间接到乘客，所以对于用户拼车请求，遍历其出发地的车辆状态表，筛选出满足条件的车辆。
   - 为了保证司机可以在指定时间将原始乘客与拼车乘客送到指定地点，要对于到达终点的时间做估计。要检查距离较近的乘客终点是否在距离较远的乘客规划路径上或者在附近，满足一定阈值将该方案加入集合，并记录节省（重合）距离。
   - 选取满足以上条件的方案中节省距离最多的方案，若集合为空则匹配失败，建议用户单独出行。
3. 以以太坊作为开发平台。以太坊可以用来创建去中心化的程序、自治组织和智能合约。通过编写制定相关的智能合约，使得参与者以合乎逻辑的方式完成业务交易，整个过程自动且固定，保证了整个环节的透明性，充分保证了参与者的利益。



## 四、实施技术所需要的条件

#### 4.1 软件条件



## 五、预期成果

#### 5.1 软件成果

​	本次毕设完成一个拼车系统的设计，设计完成一个以太坊上的智能合约，该合约能够完成司机与乘客的匹配，完成司机车辆的路径规划，并能完成一定的可视化模拟。

#### 5.2 论文成果

​	完成一篇论文



## 六、时间安排

1.1-1.12	查阅文献，了解课题研究内容，初步制定研究方案，撰写开题报告并进行答辩

1.12-1.18	学习geohash的地图表示

1.1-1.31	学习树状区块链的存储表示及相应使用接口

1.31-2.28	部署以太坊环境，复现成佳壮学长工作

2.28-3.15	完善改进拼车系统的设计

3.15-4.1	完成拼车系统的数据设计

4.1-4.15	完成匹配逻辑的设计

4.15-4.30	可视化呈现结果，测试改进相关逻辑

4.30-5.12	性能测试及优化

5.12-6.16	完成毕业论文，参加答辩。

## 七、参考文献















